<div class="backdrop"></div>

<header class="main-header">
    <div class="side-menu-toggle-container">
        <button id="side-menu-toggle"><i class="fa fa-bars"></i></button>
    </div>

    <nav class="main-header__nav">
        <ul class="main-header__item-list">
            <li class="main-header__item">
                <a class="<%= path === '/' ? 'active' : '' %>" href="/"><strong>GiftKart</strong> Home</a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/products' ? 'active' : '' %>" href="/products"><i class="fas fa-gifts"></i>&nbsp;Products</a>
            </li>
        </ul>
        <% if (path !== '/') { %>
        <div class="search-container-web" id="search-container-web">
            <form action="/search-products" method="POST">
                <div style="display: flex; align-items: center;" class="form-control">
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>" >
                    <input style="margin: 8px; width: 100%; height: 1.725rem;" name="query" id="search-web">
                    <button class="btn-search" type="submit"><i class="fas fa-search"></i></button>
                </div>
            </form>
        </div>
        <% } %>
        <ul class="main-header__item-list">
            <% if (!isAuthenticated) { %>
            <li class="main-header__item">
                <a class="<%= path === '/login' ? 'active' : '' %>" href="/login"><i class="fas fa-sign-in-alt"></i>&nbsp;Login</a>
            </li>
            <li class="main-header__item">
                <a class="<%= path === '/signup' ? 'active' : '' %>" href="/signup"><i class="fas fa-user-plus"></i>&nbsp;Signup</a>
            </li>
            <% } else { %>
                <% if (isAuthenticated && !isAdmin && !isRider) { %>
                    <li class="main-header__item">
                        <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart">
                            <i class="fas fa-shopping-cart"></i>&nbsp;Cart (<%= cartItems %>)
                        </a>
                    </li>
                    <li class="main-header__item">
                        <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders"><i class="fas fa-list-ul"></i>&nbsp;Orders</a>
                    </li>
                <% } %>
                
                <% if (isAdmin) { %>
                    <li class="main-header__item">
                        <div class="dropdown">
                            <button class="btn">&#8595; Admin Options</button>
                            <div class="dropdown-content">
                                <a class="<%= path === '/admin/add-product' ? 'active' : '' %>" href="/admin/add-product"><i class="fas fa-plus-circle"></i>&nbsp;Add Product</a>
                                <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products"><i class="fas fa-gift"></i>&nbsp;Edit Products</a>
                                <a class="<%= path === '/admin/orders' ? 'active' : '' %>" href="/admin/orders"><i class="fas fa-list-ul"></i>&nbsp;View Orders</a>
                            </div>
                        </div>
                    </li>
                <% } %>
            <li class="main-header__item">
                <form action="/logout" method="POST">
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>" >
                    <button type="submit" style="padding: 0;"><i class="fas fa-sign-out-alt"></i>&nbsp;Logout</button>
                </form>
            </li>
            <% } %>
        </ul>
    </nav>

    <div class="search-container-mobile" id="search-container-mobile">
        <div class="search-bar-mobile">
            <form action="/search-products" method="POST">
                <div style="display: flex; align-items: center;" class="form-control">
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>" >
                    <input style="margin: 12px; width: 100%; height: 1.725rem;" name="query" id="search-mobile">
                    <button class="btn-search" style="padding: .25rem .5rem; margin-left: 8px;" type="submit"><i class="fas fa-search"></i></button>
                </div>
            </form>
        </div>
    </div>
</header>

<nav class="mobile-nav">
    <ul class="mobile-nav__item-list">
        <li class="mobile-nav__item">
            <strong>GiftKart</strong>
        </li>
        <li class="mobile-nav__item">
            <a class="<%= path === '/' ? 'active' : '' %>" href="/">Home</a>
        </li>
        <li class="mobile-nav__item">
            <a class="<%= path === '/products' ? 'active' : '' %>" href="/products"><i class="fas fa-gifts"></i>&nbsp;Products</a>
        </li>
        <% if (isAuthenticated && !isAdmin && !isRider) { %>
        <li class="mobile-nav__item">
            <a class="<%= path === '/cart' ? 'active' : '' %>" href="/cart"><i class="fas fa-shopping-cart"></i>&nbsp;Cart</a>
        </li>
        <li class="mobile-nav__item">
            <a class="<%= path === '/orders' ? 'active' : '' %>" href="/orders"><i class="fas fa-list-ul"></i>&nbsp;Orders</a>
        </li>
        <% } %>
        <% if (isAdmin) { %>
        <li class="mobile-nav__item">
            <a class="<%= path === '/admin/add-product' ? 'active' : '' %>" href="/admin/add-product"><i class="fas fa-plus-circle"></i>&nbsp;Add Product</a>
        </li>
        <li class="mobile-nav__item">
            <a class="<%= path === '/admin/products' ? 'active' : '' %>" href="/admin/products"><i class="fas fa-gift"></i>&nbsp;Edit Products</a>
        </li>
        <li class="mobile-nav__item">
            <a class="<%= path === '/admin/orders' ? 'active' : '' %>" href="/admin/orders"><i class="fas fa-list-ul"></i>&nbsp;View Orders</a>
        </li>
        <% } %>
        <% if (!isAuthenticated) { %>
        <li class="mobile-nav__item">
            <a class="<%= path === '/login' ? 'active' : '' %>" href="/login"><i class="fas fa-sign-in-alt"></i>&nbsp;Login</a>
        </li>
        <li class="mobile-nav__item">
            <a class="<%= path === '/signup' ? 'active' : '' %>" href="/signup"><i class="fas fa-user-plus"></i>&nbsp;Signup</a>
        </li>
        <% } else { %>
        <li class="mobile-nav__item">
            <form action="/logout" method="POST">
                <input type="hidden" name="_csrf" value="<%= csrfToken %>" >
                <button type="submit"><i class="fas fa-sign-out-alt"></i>&nbsp;Logout</button>
            </form>
        </li>
        <% } %>
    </ul>
</nav>